<?xml version="1.0" encoding="utf-8"?>
<UserControl x:Class="ClopWindows.App.Views.Settings.SettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:loc="clr-namespace:ClopWindows.App.Localization"
             mc:Ignorable="d"
             d:DesignHeight="600"
             d:DesignWidth="800">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="32">
            <StackPanel>
                <TextBlock Text="{loc:Loc settings.header.title}" FontSize="24" FontWeight="SemiBold" Foreground="{DynamicResource Brush.PrimaryText}"/>
                <TextBlock Text="{loc:Loc settings.header.subtitle}" FontSize="13" Foreground="{DynamicResource Brush.SecondaryText}" Margin="0,6,0,0" TextWrapping="Wrap"/>
            </StackPanel>

            <Border Margin="0,24,0,0" Padding="20" Background="{DynamicResource Brush.SurfaceBackground}" BorderBrush="{DynamicResource Brush.SurfaceBorder}" BorderThickness="1" CornerRadius="12">
                <StackPanel>
                    <TextBlock Text="{loc:Loc settings.section.appearance}" FontSize="16" FontWeight="SemiBold" Foreground="{DynamicResource Brush.PrimaryText}"/>
                    <StackPanel Margin="0,12,0,0">
                        <TextBlock Text="{loc:Loc settings.theme.mode}" FontWeight="SemiBold" Foreground="{DynamicResource Brush.PrimaryText}"/>
                        <ComboBox Margin="0,6,0,0"
                                  ItemsSource="{Binding ThemeOptions}"
                                  SelectedItem="{Binding SelectedThemeOption}"
                                  DisplayMemberPath="DisplayName"
                                  AutomationProperties.Name="{loc:Loc settings.theme.mode}"
                                  Background="{DynamicResource Brush.FieldBackground}"
                                  BorderBrush="{DynamicResource Brush.FieldBorder}"
                                  Foreground="{DynamicResource Brush.FieldForeground}"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <Border Margin="0,16,0,0" Padding="20" Background="{DynamicResource Brush.SurfaceBackground}" BorderBrush="{DynamicResource Brush.SurfaceBorder}" BorderThickness="1" CornerRadius="12">
                <StackPanel>
                    <TextBlock Text="{loc:Loc settings.section.floatingHud}" FontSize="16" FontWeight="SemiBold" Foreground="{DynamicResource Brush.PrimaryText}"/>
                    <CheckBox Content="{loc:Loc settings.floatingHud.show}" Margin="0,12,0,0" IsChecked="{Binding EnableFloatingResults}"/>
                    <CheckBox Content="{loc:Loc settings.floatingHud.autoHide}" Margin="0,8,0,0" IsChecked="{Binding AutoHideFloatingResults}"/>
                    <StackPanel Orientation="Horizontal" Margin="0,8,0,0" VerticalAlignment="Center">
                        <TextBlock x:Name="FloatingHudHideAfterLabel" Text="{loc:Loc settings.floatingHud.hideAfter}" VerticalAlignment="Center" Foreground="{DynamicResource Brush.PrimaryText}"/>
                        <TextBox Width="60"
                                 Margin="8,0,0,0"
                                 Text="{Binding AutoHideFloatingResultsAfter, UpdateSourceTrigger=PropertyChanged}"
                                 Background="{DynamicResource Brush.FieldBackground}"
                                 BorderBrush="{DynamicResource Brush.FieldBorder}"
                                 Foreground="{DynamicResource Brush.FieldForeground}"
                                 AutomationProperties.LabeledBy="{Binding ElementName=FloatingHudHideAfterLabel}"
                                 AutomationProperties.HelpText="{loc:Loc settings.floatingHud.hideAfter.help}"
                                 AutomationProperties.Name="{loc:Loc settings.autohide.seconds.accessible}"/>
                        <TextBlock Text="{loc:Loc settings.floatingHud.hideAfterSuffix}" Margin="8,0,0,0" VerticalAlignment="Center" Foreground="{DynamicResource Brush.SecondaryText}"/>
                    </StackPanel>
                    <StackPanel Margin="0,16,0,0">
                        <TextBlock x:Name="FloatingHudPlacementLabel"
                                   Text="{loc:Loc settings.floatingHud.placementHeading}"
                                   FontWeight="SemiBold"
                                   Foreground="{DynamicResource Brush.PrimaryText}"/>
                        <TextBlock Text="{loc:Loc settings.floatingHud.placementDescription}"
                                   FontSize="12"
                                   Foreground="{DynamicResource Brush.SecondaryText}"
                                   Margin="0,4,0,12"
                                   TextWrapping="Wrap"/>
                        <ListBox ItemsSource="{Binding FloatingHudPlacementOptions}"
                                 SelectedValuePath="Placement"
                                 SelectedValue="{Binding FloatingHudPlacement, Mode=TwoWay}"
                                 BorderThickness="0"
                                 Background="Transparent"
                                 Margin="0,0,0,12"
                                 HorizontalContentAlignment="Stretch"
                                 AutomationProperties.LabeledBy="{Binding ElementName=FloatingHudPlacementLabel}">
                            <ListBox.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </ListBox.ItemsPanel>
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding DisplayName}"
                                               TextAlignment="Center"
                                               FontWeight="SemiBold"/>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                            <ListBox.ItemContainerStyle>
                                <Style TargetType="ListBoxItem">
                                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                    <Setter Property="VerticalContentAlignment" Value="Center"/>
                                    <Setter Property="Foreground" Value="{DynamicResource Brush.PrimaryText}"/>
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="ListBoxItem">
                                                <Border x:Name="Chrome"
                                                        Background="{DynamicResource Brush.FieldBackground}"
                                                        BorderBrush="{DynamicResource Brush.FieldBorder}"
                                                        BorderThickness="1"
                                                        CornerRadius="10"
                                                        Margin="0,0,8,8"
                                                        Padding="16,10">
                                                    <ContentPresenter HorizontalAlignment="Center"
                                                                      VerticalAlignment="Center"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsSelected" Value="True">
                                                        <Setter TargetName="Chrome" Property="Background" Value="{DynamicResource Brush.PrimaryButtonBackground}"/>
                                                        <Setter TargetName="Chrome" Property="BorderBrush" Value="{DynamicResource Brush.PrimaryButtonBackground}"/>
                                                        <Setter Property="Foreground" Value="{DynamicResource Brush.PrimaryButtonForeground}"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </ListBox.ItemContainerStyle>
                        </ListBox>
                        <TextBlock Text="{Binding FloatingHudPlacementStatus}"
                                   FontSize="12"
                                   Foreground="{DynamicResource Brush.SecondaryText}"/>
                        <Button Content="{loc:Loc settings.floatingHud.resetLayout}"
                                Command="{Binding ResetHudLayoutCommand}"
                                Padding="18,6"
                                Margin="0,12,0,0"
                                HorizontalAlignment="Left"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <Border Margin="0,16,0,0" Padding="20" Background="{DynamicResource Brush.SurfaceBackground}" BorderBrush="{DynamicResource Brush.SurfaceBorder}" BorderThickness="1" CornerRadius="12">
                <StackPanel>
                    <TextBlock Text="{loc:Loc settings.section.clipboard}" FontSize="16" FontWeight="SemiBold" Foreground="{DynamicResource Brush.PrimaryText}"/>
                    <CheckBox Content="{loc:Loc settings.clipboard.optimiseImages}" Margin="0,12,0,0" IsChecked="{Binding EnableClipboardOptimiser}"/>
                    <CheckBox Content="{loc:Loc settings.clipboard.copyBack}" Margin="0,8,0,0" IsChecked="{Binding AutoCopyToClipboard}"/>
                    <CheckBox Content="{loc:Loc settings.clipboard.copyFilePath}" Margin="0,8,0,0" IsChecked="{Binding CopyImageFilePath}"/>
                    <CheckBox Content="{loc:Loc settings.clipboard.optimiseVideos}" Margin="0,8,0,0" IsChecked="{Binding OptimiseVideoClipboard}"/>
                    <CheckBox Content="{loc:Loc settings.clipboard.optimisePdfs}" Margin="0,8,0,0" IsChecked="{Binding OptimisePdfClipboard}"/>
                    <CheckBox Content="{loc:Loc settings.clipboard.optimiseFileDrops}" Margin="0,8,0,0" IsChecked="{Binding OptimiseClipboardFileDrops}"/>
                </StackPanel>
            </Border>

            <Border Margin="0,16,0,0" Padding="20" Background="{DynamicResource Brush.SurfaceBackground}" BorderBrush="{DynamicResource Brush.SurfaceBorder}" BorderThickness="1" CornerRadius="12">
                <StackPanel>
                    <TextBlock Text="{loc:Loc settings.section.automation}" FontSize="16" FontWeight="SemiBold" Foreground="{DynamicResource Brush.PrimaryText}"/>
                    <CheckBox Content="{loc:Loc settings.automation.watchImages}" Margin="0,12,0,0" IsChecked="{Binding EnableAutomaticImageOptimisations}"/>
                    <CheckBox Content="{loc:Loc settings.automation.watchVideos}" Margin="0,8,0,0" IsChecked="{Binding EnableAutomaticVideoOptimisations}"/>
                    <CheckBox Content="{loc:Loc settings.automation.watchPdfs}" Margin="0,8,0,0" IsChecked="{Binding EnableAutomaticPdfOptimisations}"/>

                    <StackPanel Margin="0,16,0,0">
                        <TextBlock Text="{loc:Loc settings.automation.imageFoldersTitle}" FontWeight="SemiBold" Foreground="{DynamicResource Brush.PrimaryText}"/>
                        <TextBlock Text="{loc:Loc settings.automation.folderSubtitle}" FontSize="12" Foreground="{DynamicResource Brush.SecondaryText}" Margin="0,4,0,8" TextWrapping="Wrap"/>
                        <ItemsControl ItemsSource="{Binding ImageDirectories}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border Padding="14" MinHeight="48" Margin="0,0,0,6" Background="{DynamicResource Brush.CardBackground}" BorderBrush="{DynamicResource Brush.CardBorder}" BorderThickness="1" CornerRadius="6">
                                        <DockPanel>
                                            <TextBlock Text="{Binding}"
                                                       VerticalAlignment="Center"
                                                       Margin="0,0,8,0"
                                                       TextWrapping="Wrap"
                                                       Foreground="{DynamicResource Brush.PrimaryText}"/>
                                            <Button Content="{loc:Loc settings.automation.removeFolder}" Command="{Binding DataContext.RemoveImageDirectoryCommand, RelativeSource={RelativeSource AncestorType=UserControl}}" CommandParameter="{Binding}" Padding="10,4" Margin="8,0,0,0" DockPanel.Dock="Right"/>
                                        </DockPanel>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                        <TextBlock Text="{loc:Loc settings.automation.imageFoldersEmpty}" Margin="0,4,0,0" FontSize="12" Foreground="{DynamicResource Brush.SecondaryText}">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ImageDirectories.Count}" Value="0">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                        <Button Content="{loc:Loc settings.automation.addFolder}" Command="{Binding AddImageDirectoryCommand}" Margin="0,8,0,0" Padding="16,6" HorizontalAlignment="Left"/>
                    </StackPanel>

                    <StackPanel Margin="0,16,0,0">
                        <TextBlock Text="{loc:Loc settings.automation.videoFoldersTitle}" FontWeight="SemiBold" Foreground="{DynamicResource Brush.PrimaryText}"/>
                        <TextBlock Text="{loc:Loc settings.automation.folderSubtitle}" FontSize="12" Foreground="{DynamicResource Brush.SecondaryText}" Margin="0,4,0,8" TextWrapping="Wrap"/>
                        <ItemsControl ItemsSource="{Binding VideoDirectories}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border Padding="14" MinHeight="48" Margin="0,0,0,6" Background="{DynamicResource Brush.CardBackground}" BorderBrush="{DynamicResource Brush.CardBorder}" BorderThickness="1" CornerRadius="6">
                                        <DockPanel>
                                            <TextBlock Text="{Binding}"
                                                       VerticalAlignment="Center"
                                                       Margin="0,0,8,0"
                                                       TextWrapping="Wrap"
                                                       Foreground="{DynamicResource Brush.PrimaryText}"/>
                                            <Button Content="{loc:Loc settings.automation.removeFolder}" Command="{Binding DataContext.RemoveVideoDirectoryCommand, RelativeSource={RelativeSource AncestorType=UserControl}}" CommandParameter="{Binding}" Padding="10,4" Margin="8,0,0,0" DockPanel.Dock="Right"/>
                                        </DockPanel>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                        <TextBlock Text="{loc:Loc settings.automation.videoFoldersEmpty}" Margin="0,4,0,0" FontSize="12" Foreground="{DynamicResource Brush.SecondaryText}">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding VideoDirectories.Count}" Value="0">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                        <Button Content="{loc:Loc settings.automation.addFolder}" Command="{Binding AddVideoDirectoryCommand}" Margin="0,8,0,0" Padding="16,6" HorizontalAlignment="Left"/>
                    </StackPanel>

                    <StackPanel Margin="0,16,0,0">
                        <TextBlock Text="{loc:Loc settings.automation.pdfFoldersTitle}" FontWeight="SemiBold" Foreground="{DynamicResource Brush.PrimaryText}"/>
                        <TextBlock Text="{loc:Loc settings.automation.folderSubtitle}" FontSize="12" Foreground="{DynamicResource Brush.SecondaryText}" Margin="0,4,0,8" TextWrapping="Wrap"/>
                        <ItemsControl ItemsSource="{Binding PdfDirectories}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border Padding="14" MinHeight="48" Margin="0,0,0,6" Background="{DynamicResource Brush.CardBackground}" BorderBrush="{DynamicResource Brush.CardBorder}" BorderThickness="1" CornerRadius="6">
                                        <DockPanel>
                                            <TextBlock Text="{Binding}"
                                                       VerticalAlignment="Center"
                                                       Margin="0,0,8,0"
                                                       TextWrapping="Wrap"
                                                       Foreground="{DynamicResource Brush.PrimaryText}"/>
                                            <Button Content="{loc:Loc settings.automation.removeFolder}" Command="{Binding DataContext.RemovePdfDirectoryCommand, RelativeSource={RelativeSource AncestorType=UserControl}}" CommandParameter="{Binding}" Padding="10,4" Margin="8,0,0,0" DockPanel.Dock="Right"/>
                                        </DockPanel>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                        <TextBlock Text="{loc:Loc settings.automation.pdfFoldersEmpty}" Margin="0,4,0,0" FontSize="12" Foreground="{DynamicResource Brush.SecondaryText}">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding PdfDirectories.Count}" Value="0">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                        <Button Content="{loc:Loc settings.automation.addFolder}" Command="{Binding AddPdfDirectoryCommand}" Margin="0,8,0,0" Padding="16,6" HorizontalAlignment="Left"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <Border Margin="0,16,0,0" Padding="20" Background="{DynamicResource Brush.SurfaceBackground}" BorderBrush="{DynamicResource Brush.SurfaceBorder}" BorderThickness="1" CornerRadius="12">
                <StackPanel>
                    <TextBlock Text="{loc:Loc settings.section.optimisation}" FontSize="16" FontWeight="SemiBold" Foreground="{DynamicResource Brush.PrimaryText}"/>
                    <CheckBox Content="{loc:Loc settings.optimisation.forceFullImage}" Margin="0,12,0,0" IsChecked="{Binding ForceFullImageOptimisations}"/>
                    <TextBlock Text="{loc:Loc settings.optimisation.forceFullImage.subtitle}" FontSize="12" Foreground="{DynamicResource Brush.SecondaryText}" Margin="24,4,0,0" TextWrapping="Wrap"/>
                    <StackPanel Margin="0,16,0,0">
                        <TextBlock Text="{loc:Loc settings.optimisation.videoPreset.title}" FontWeight="SemiBold" Foreground="{DynamicResource Brush.PrimaryText}"/>
                        <TextBlock Text="{loc:Loc settings.optimisation.videoPreset.subtitle}" FontSize="12" Foreground="{DynamicResource Brush.SecondaryText}" Margin="0,4,0,12" TextWrapping="Wrap"/>
                        <ListBox ItemsSource="{Binding VideoEncoderPresetOptions}"
                                 SelectedItem="{Binding SelectedVideoEncoderPreset}"
                                 BorderThickness="0"
                                 Background="Transparent"
                                 HorizontalContentAlignment="Stretch">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <Border Padding="14"
                                            Margin="0,0,0,8"
                                            Background="{DynamicResource Brush.FieldBackground}"
                                            BorderBrush="{DynamicResource Brush.FieldBorder}"
                                            BorderThickness="1"
                                            CornerRadius="10">
                                        <StackPanel>
                                            <TextBlock Text="{Binding Title}"
                                                       FontWeight="SemiBold"
                                                       Foreground="{DynamicResource Brush.PrimaryText}"/>
                                            <TextBlock Text="{Binding Description}"
                                                       FontSize="12"
                                                       Margin="0,4,0,0"
                                                       TextWrapping="Wrap"
                                                       Foreground="{DynamicResource Brush.SecondaryText}"/>
                                        </StackPanel>
                                    </Border>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </StackPanel>
                </StackPanel>
            </Border>

            <Border Margin="0,16,0,0" Padding="20" Background="{DynamicResource Brush.SurfaceBackground}" BorderBrush="{DynamicResource Brush.SurfaceBorder}" BorderThickness="1" CornerRadius="12">
                <StackPanel>
                    <TextBlock Text="{loc:Loc settings.section.output}" FontSize="16" FontWeight="SemiBold" Foreground="{DynamicResource Brush.PrimaryText}"/>
                    <CheckBox Content="{loc:Loc settings.output.replaceInPlace}" Margin="0,12,0,0" IsChecked="{Binding ReplaceOptimisedFilesInPlace}"/>
                    <TextBlock Text="{loc:Loc settings.output.replaceInPlace.subtitle}" FontSize="12" Margin="24,4,0,0" Foreground="{DynamicResource Brush.SecondaryText}" TextWrapping="Wrap"/>
                    <CheckBox Content="{loc:Loc settings.output.deleteConverted}" Margin="0,12,0,0" IsChecked="{Binding DeleteOriginalAfterConversion}" IsEnabled="{Binding ReplaceOptimisedFilesInPlace}"/>
                    <TextBlock Text="{loc:Loc settings.output.deleteConverted.subtitle}" FontSize="12" Margin="24,4,0,0" Foreground="{DynamicResource Brush.SecondaryText}" TextWrapping="Wrap"/>
                </StackPanel>
            </Border>

            <Border Margin="0,16,0,0" Padding="20" Background="{DynamicResource Brush.SurfaceBackground}" BorderBrush="{DynamicResource Brush.SurfaceBorder}" BorderThickness="1" CornerRadius="12">
                <StackPanel>
                    <TextBlock Text="{loc:Loc settings.section.preservation}" FontSize="16" FontWeight="SemiBold" Foreground="{DynamicResource Brush.PrimaryText}"/>
                    <CheckBox Content="{loc:Loc settings.preservation.preserveDates}" Margin="0,12,0,0" IsChecked="{Binding PreserveDates}"/>
                    <CheckBox Content="{loc:Loc settings.preservation.stripMetadata}" Margin="0,8,0,0" IsChecked="{Binding StripMetadata}"/>
                </StackPanel>
            </Border>

            <Border Margin="0,16,0,0" Padding="20" Background="{DynamicResource Brush.SurfaceBackground}" BorderBrush="{DynamicResource Brush.SurfaceBorder}" BorderThickness="1" CornerRadius="12">
                <StackPanel>
                    <TextBlock Text="{loc:Loc settings.section.shortcuts}" FontSize="16" FontWeight="SemiBold" Foreground="{DynamicResource Brush.PrimaryText}"/>
                    <TextBlock Text="{loc:Loc settings.shortcuts.subtitle}" FontSize="13" Foreground="{DynamicResource Brush.SecondaryText}" Margin="0,6,0,0" TextWrapping="Wrap"/>

                    <TextBlock Text="{loc:Loc settings.shortcuts.app}" FontWeight="SemiBold" Foreground="{DynamicResource Brush.PrimaryText}" Margin="0,18,0,0"/>
                    <ItemsControl ItemsSource="{Binding AppShortcutPreferences}" Margin="0,10,0,0" AutomationProperties.HelpText="{loc:Loc settings.shortcuts.list.help}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Padding="12" Margin="0,0,0,8" Background="{DynamicResource Brush.CardBackground}" BorderBrush="{DynamicResource Brush.CardBorder}" BorderThickness="1" CornerRadius="8">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel>
                                            <TextBlock Text="{Binding Description}" FontWeight="SemiBold" Foreground="{DynamicResource Brush.PrimaryText}"/>
                                            <TextBlock Text="{Binding DefaultBindingLabel}" Foreground="{DynamicResource Brush.MutedText}" FontSize="12" Margin="0,4,0,0"/>
                                        </StackPanel>
                                        <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                                            <TextBlock Text="{Binding CurrentBinding}" Foreground="{DynamicResource Brush.PrimaryText}" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                            <Button Content="{loc:Loc settings.shortcuts.change}" Command="{Binding CaptureCommand}" Margin="4,0,0,0" Padding="14,4"/>
                                            <Button Content="{loc:Loc settings.shortcuts.clear}" Command="{Binding ClearCommand}" Margin="8,0,0,0" Padding="12,4"/>
                                            <Button Content="{loc:Loc settings.shortcuts.reset}" Command="{Binding ResetCommand}" Margin="8,0,0,0" Padding="12,4"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>

                    <TextBlock Text="{loc:Loc settings.shortcuts.global}" FontWeight="SemiBold" Foreground="{DynamicResource Brush.PrimaryText}" Margin="0,18,0,0"/>
                    <ItemsControl ItemsSource="{Binding GlobalShortcutPreferences}" Margin="0,10,0,0" AutomationProperties.HelpText="{loc:Loc settings.shortcuts.list.help}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Padding="12" Margin="0,0,0,8" Background="{DynamicResource Brush.CardBackground}" BorderBrush="{DynamicResource Brush.CardBorder}" BorderThickness="1" CornerRadius="8">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel>
                                            <TextBlock Text="{Binding Description}" FontWeight="SemiBold" Foreground="{DynamicResource Brush.PrimaryText}"/>
                                            <TextBlock Text="{Binding DefaultBindingLabel}" Foreground="{DynamicResource Brush.MutedText}" FontSize="12" Margin="0,4,0,0"/>
                                        </StackPanel>
                                        <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                                            <TextBlock Text="{Binding CurrentBinding}" Foreground="{DynamicResource Brush.PrimaryText}" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                            <Button Content="{loc:Loc settings.shortcuts.change}" Command="{Binding CaptureCommand}" Margin="4,0,0,0" Padding="14,4"/>
                                            <Button Content="{loc:Loc settings.shortcuts.clear}" Command="{Binding ClearCommand}" Margin="8,0,0,0" Padding="12,4"/>
                                            <Button Content="{loc:Loc settings.shortcuts.reset}" Command="{Binding ResetCommand}" Margin="8,0,0,0" Padding="12,4"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </Border>

        </StackPanel>
    </ScrollViewer>
</UserControl>
